"use strict";(self.webpackChunkROS2_Beginners=self.webpackChunkROS2_Beginners||[]).push([[2480],{9151:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>l,contentTitle:()=>t,default:()=>u,frontMatter:()=>s,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"launch-files/create-install-launch-file","title":"Creating and Using a Launch File","description":"Launch files in ROS2 allow you to start multiple nodes and configure their parameters from a single file. This tutorial will guide you through creating a launch file for a ROS2 application consisting of two nodes: a number publisher node and a number counter node. We will also set up a dedicated package for launch files, following best practices for organization and dependency management.","source":"@site/docs/07_launch-files/03_create-install-launch-file.md","sourceDirName":"07_launch-files","slug":"/launch-files/create-install-launch-file","permalink":"/ROS2-Beginners/docs/launch-files/create-install-launch-file","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/07_launch-files/03_create-install-launch-file.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"ROS2 Launch Files","permalink":"/ROS2-Beginners/docs/launch-files/launch-files"},"next":{"title":"Customizing Node Configurations","permalink":"/ROS2-Beginners/docs/launch-files/configure-nodes-launch-files"}}');var c=a(4848),r=a(8453);const s={},t="Creating and Using a Launch File",l={},o=[{value:"Step 1: Create a New Package for Launch Files",id:"step-1-create-a-new-package-for-launch-files",level:2},{value:"Step 2: Configure the Package",id:"step-2-configure-the-package",level:2},{value:"Step 3: Create the Launch File",id:"step-3-create-the-launch-file",level:2},{value:"Step 4: Build and Source the Package",id:"step-4-build-and-source-the-package",level:2},{value:"Step 5: Launch the Nodes",id:"step-5-launch-the-nodes",level:2},{value:"Conclusion",id:"conclusion",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"creating-and-using-a-launch-file",children:"Creating and Using a Launch File"})}),"\n",(0,c.jsx)(n.p,{children:"Launch files in ROS2 allow you to start multiple nodes and configure their parameters from a single file. This tutorial will guide you through creating a launch file for a ROS2 application consisting of two nodes: a number publisher node and a number counter node. We will also set up a dedicated package for launch files, following best practices for organization and dependency management."}),"\n",(0,c.jsx)(n.h2,{id:"step-1-create-a-new-package-for-launch-files",children:"Step 1: Create a New Package for Launch Files"}),"\n",(0,c.jsx)(n.p,{children:"First, navigate to the source directory of your ROS2 workspace. For demonstration purposes, let's assume we have three packages already: one for Python nodes, one for C++ nodes, and an interface package. We'll create a new package specifically for launch files."}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"ros2 pkg create my_robot_bringup\n"})}),"\n",(0,c.jsx)(n.p,{children:"Creating a separate package for launch files helps centralize them, making it easier to manage dependencies and configurations."}),"\n",(0,c.jsx)(n.h2,{id:"step-2-configure-the-package",children:"Step 2: Configure the Package"}),"\n",(0,c.jsx)(n.p,{children:"Navigate into the newly created package and set up the necessary directories and files:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"cd my_robot_bringup\nmkdir launch\n"})}),"\n",(0,c.jsxs)(n.p,{children:["Modify the ",(0,c.jsx)(n.code,{children:"CMakeLists.txt"})," and ",(0,c.jsx)(n.code,{children:"package.xml"})," files to install the launch directory and declare dependencies."]}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"CMakeLists.txt"}),":"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-cmake",children:"cmake_minimum_required(VERSION 3.5)\nproject(my_robot_bringup)\n\nfind_package(ament_cmake REQUIRED)\n\ninstall(DIRECTORY launch/\n  DESTINATION share/${PROJECT_NAME}/launch\n)\n\nament_package()\n"})}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"package.xml"}),":"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<package format="2">\n  <name>my_robot_bringup</name>\n  <version>0.0.1</version>\n  <description>Launch files for my robot</description>\n  <maintainer email="you@example.com">Your Name</maintainer>\n  <license>Apache-2.0</license>\n\n  <exec_depend>my_python_package</exec_depend>\n  <exec_depend>my_cpp_package</exec_depend>\n\n  <buildtool_depend>ament_cmake</buildtool_depend>\n</package>\n'})}),"\n",(0,c.jsx)(n.h2,{id:"step-3-create-the-launch-file",children:"Step 3: Create the Launch File"}),"\n",(0,c.jsxs)(n.p,{children:["Create a new launch file in the ",(0,c.jsx)(n.code,{children:"launch"})," directory. The file will be named ",(0,c.jsx)(n.code,{children:"number_app.launch.py"})," and will start both the number publisher and number counter nodes."]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"touch launch/number_app.launch.py\nchmod +x launch/number_app.launch.py\n"})}),"\n",(0,c.jsxs)(n.p,{children:["Edit the ",(0,c.jsx)(n.code,{children:"number_app.launch.py"})," file:"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-python",children:"#!/usr/bin/env python3\n\nfrom launch import LaunchDescription\nfrom launch_ros.actions import Node\n\ndef generate_launch_description():\n    number_publisher_node = Node(\n        package='my_python_package',\n        executable='number_publisher',\n        name='number_publisher_node'\n    )\n\n    number_counter_node = Node(\n        package='my_cpp_package',\n        executable='number_counter',\n        name='number_counter_node'\n    )\n\n    return LaunchDescription([\n        number_publisher_node,\n        number_counter_node\n    ])\n"})}),"\n",(0,c.jsxs)(n.p,{children:["This script defines a function ",(0,c.jsx)(n.code,{children:"generate_launch_description"})," that returns a ",(0,c.jsx)(n.code,{children:"LaunchDescription"})," object containing the nodes to be launched."]}),"\n",(0,c.jsx)(n.h2,{id:"step-4-build-and-source-the-package",children:"Step 4: Build and Source the Package"}),"\n",(0,c.jsx)(n.p,{children:"Build the new package and source the workspace:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"cd ~/your_ros2_workspace\ncolcon build --packages-select my_robot_bringup --symlink-install\nsource install/setup.bash\n"})}),"\n",(0,c.jsx)(n.h2,{id:"step-5-launch-the-nodes",children:"Step 5: Launch the Nodes"}),"\n",(0,c.jsx)(n.p,{children:"To launch the nodes using the new launch file, use the following command:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"ros2 launch my_robot_bringup number_app.launch.py\n"})}),"\n",(0,c.jsx)(n.p,{children:"This command will start both the number publisher and number counter nodes. You can verify that the nodes are running by listing the active nodes:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"ros2 node list\n"})}),"\n",(0,c.jsxs)(n.p,{children:["You should see both ",(0,c.jsx)(n.code,{children:"number_publisher_node"})," and ",(0,c.jsx)(n.code,{children:"number_counter_node"})," in the list of active nodes."]}),"\n",(0,c.jsx)(n.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,c.jsx)(n.p,{children:"By following this tutorial, you have created a dedicated package for launch files, configured it correctly, and written a launch file to start multiple nodes. This approach not only organizes your project better but also simplifies managing dependencies and configurations across different parts of your application."})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(d,{...e})}):d(e)}},8453:(e,n,a)=>{a.d(n,{R:()=>s,x:()=>t});var i=a(6540);const c={},r=i.createContext(c);function s(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:s(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);